"use strict";(self["webpackChunkfgmusic"]=self["webpackChunkfgmusic"]||[]).push([[967],{6967:function(t,e,a){a.r(e),a.d(e,{default:function(){return g}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"main_wrap"},[e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"content",attrs:{"element-loading-background":"var(--loading-bg-color)"}},[t.showRetry?e("retry",{on:{retry:t.getData}}):t._e(),t._l(t.rankings,(function(a){return e("div",{key:a.id,staticClass:"ranking"},[e("el-image",{attrs:{src:a.coverImgUrl,fit:"cover",lazy:"",title:a.description},on:{click:function(e){return t.goToRankingDetailPage(a)}}},[e("div",{attrs:{slot:"placeholder"},slot:"placeholder"},[e("span",[e("i",{staticClass:"el-icon-loading"})])]),e("div",{attrs:{slot:"error"},slot:"error"},[e("i",{staticClass:"el-icon-picture-outline"})])])],1)}))],2)])},r=[],n=(a(4114),a(1617)),s={name:"RankingLibrary",components:{Retry:n.A},data(){return{rankings:[],loading:!1,showRetry:!1}},created(){this.getData()},methods:{async getData(){this.loading=!0,this.showRetry=!1;try{await this.getAllToplist()}catch(t){this.showRetry=!0,console.error(t),this.$message.error("获取所有榜单数据失败！")}this.loading=!1},async getAllToplist(){const t="/toplist";let{data:e}=await this.$http.get(t);this.rankings=e.list},goToRankingDetailPage(t){this.$router.push({name:"RankingDetailPage",query:{id:t.id,name:t.name,description:t.description,updateFrequency:t.updateFrequency,coverImgUrl:t.coverImgUrl,updateTime:t.updateTime}})}}},o=s,l=a(1656),c=(0,l.A)(o,i,r,!1,null,"7ff5558b",null),g=c.exports}}]);
//# sourceMappingURL=967.c1ef5512.js.map