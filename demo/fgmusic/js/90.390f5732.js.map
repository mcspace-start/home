{"version":3,"file":"js/90.390f5732.js","mappings":"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","sources":["webpack://fgmusic/./src/views/Settings.vue","webpack://fgmusic/src/views/Settings.vue","webpack://fgmusic/./src/views/Settings.vue?fc96","webpack://fgmusic/./src/views/Settings.vue?eb1e"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{ref:\"content\",staticClass:\"settings-container\"},[_c('div',{staticClass:\"settings_wrap\"},[_c('el-scrollbar',{staticStyle:{\"height\":\"100%\"},attrs:{\"wrap-style\":\"overflow-x: hidden;\"}},_vm._l((_vm.settings),function(category){return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(true),expression:\"true\"}],key:category.key,staticClass:\"settings-category\"},[_c('h2',{staticClass:\"category-title\"},[_vm._v(_vm._s(category.title))]),_c('div',{staticClass:\"setting-item-wrap\"},_vm._l((category.items),function(item){return _c('div',{key:item.key,staticClass:\"setting-item\"},[_c('div',{staticClass:\"item-label\"},[_c('label',[_vm._v(_vm._s(item.title))])]),_c('div',{staticClass:\"item-control\"},[(item.type === 'select')?_c('div',[_c('el-select',{staticClass:\"select-control\",model:{value:(item.value),callback:function ($$v) {_vm.$set(item, \"value\", $$v)},expression:\"item.value\"}},_vm._l((item.options),function(option){return _c('el-option',{key:option,attrs:{\"label\":option,\"value\":option}})}),1)],1):(item.type === 'switch')?_c('div',[_c('el-switch',{staticClass:\"switch-control\",model:{value:(item.value),callback:function ($$v) {_vm.$set(item, \"value\", $$v)},expression:\"item.value\"}})],1):(item.type === 'button')?_c('div',[_c('el-button',{style:(_vm.buttonStyle),attrs:{\"size\":\"small\"},on:{\"click\":function($event){return _vm.handlerButton(item.key)}}},[_vm._v(\"清除\")])],1):_vm._e()])])}),0)])}),0)],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <!-- 设置页面的根容器 -->\r\n  <div class=\"settings-container\" ref=\"content\">\r\n    <div class=\"settings_wrap\">\r\n      <el-scrollbar style=\"height: 100%\" wrap-style=\"overflow-x: hidden;\">\r\n        <!-- 遍历设置类别 -->\r\n        <div\r\n          v-show=\"true\"\r\n          v-for=\"category in settings\"\r\n          :key=\"category.key\"\r\n          class=\"settings-category\"\r\n        >\r\n          <!-- 类别的标题 -->\r\n          <h2 class=\"category-title\">{{ category.title }}</h2>\r\n          <!-- 子项包裹 -->\r\n          <div class=\"setting-item-wrap\">\r\n            <!-- 遍历类别中的每个设置项 -->\r\n            <div\r\n              v-for=\"item in category.items\"\r\n              :key=\"item.key\"\r\n              class=\"setting-item\"\r\n            >\r\n              <!-- 设置项的标签 -->\r\n              <div class=\"item-label\">\r\n                <label>{{ item.title }}</label>\r\n              </div>\r\n              <!-- 设置项的控件 -->\r\n              <div class=\"item-control\">\r\n                <!-- 根据设置项的类型动态渲染不同的控件 -->\r\n                <div v-if=\"item.type === 'select'\">\r\n                  <!-- 选择框控件 -->\r\n                  <el-select v-model=\"item.value\" class=\"select-control\">\r\n                    <el-option\r\n                      v-for=\"option in item.options\"\r\n                      :key=\"option\"\r\n                      :label=\"option\"\r\n                      :value=\"option\"\r\n                    ></el-option>\r\n                  </el-select>\r\n                </div>\r\n                <div v-else-if=\"item.type === 'switch'\">\r\n                  <!-- 开关控件 -->\r\n                  <el-switch\r\n                    v-model=\"item.value\"\r\n                    class=\"switch-control\"\r\n                  ></el-switch>\r\n                </div>\r\n                <div v-else-if=\"item.type === 'button'\">\r\n                  <!-- 开关控件 -->\r\n                  <el-button\r\n                    :style=\"buttonStyle\"\r\n                    size=\"small\"\r\n                    @click=\"handlerButton(item.key)\"\r\n                    >清除</el-button\r\n                  >\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </el-scrollbar>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { mapActions } from \"vuex\";\r\n\r\nexport default {\r\n  name: \"Settings\",\r\n  data() {\r\n    return {\r\n      settings: [\r\n        {\r\n          title: \"播放设置\",\r\n          key: \"playSettings\",\r\n          items: [\r\n            {\r\n              title: \"榜单忽略试听歌曲\",\r\n              key: \"ignorePreviewTracks\",\r\n              type: \"switch\",\r\n              value: false,\r\n            },\r\n          ],\r\n        },\r\n        {\r\n          title: \"外观设置\",\r\n          key: \"appearanceSettings\",\r\n          items: [\r\n            {\r\n              title: \"主题颜色\",\r\n              key: \"themeColor\",\r\n              type: \"select\",\r\n              options: [\"蓝色\", \"绿色\", \"红色\", \"紫色\"],\r\n              value: \"蓝色\",\r\n            },\r\n          ],\r\n        },\r\n        {\r\n          title: \"高级设置\",\r\n          key: \"advancedSettings\",\r\n          items: [\r\n            {\r\n              title: \"清除缓存\",\r\n              key: \"clearCache\",\r\n              type: \"button\",\r\n            },\r\n          ],\r\n        },\r\n      ],\r\n      buttonStyle: {\r\n        background: \"var(--parmary-bg-color)\",\r\n        color: \"var(--secondary-text-color)\",\r\n      },\r\n    };\r\n  },\r\n  watch: {\r\n    settings: {\r\n      handler(val) {\r\n        this.changeSettings(val);\r\n      },\r\n      deep: true,\r\n    },\r\n  },\r\n  created() {\r\n    // 读取本地缓存同步设置\r\n    const localSettings = JSON.parse(localStorage.getItem(\"settings\") || \"{}\");\r\n    this.updateSettingsArray(this.settings, localSettings);\r\n  },\r\n  methods: {\r\n    ...mapActions([\"setSettings\"]),\r\n    // 更改设置项\r\n    updateSettingsArray(arr, settingsObj) {\r\n      arr.forEach((element) => {\r\n        const elementSettings = settingsObj[element.key] || {};\r\n        element.items.forEach((item) => {\r\n          if (elementSettings[item.key] !== undefined) {\r\n            item.value = elementSettings[item.key];\r\n          }\r\n        });\r\n      });\r\n    },\r\n    // 更改设置 提交vuex\r\n    changeSettings(arr) {\r\n      const settings = {};\r\n      for (const element of arr) {\r\n        settings[element.key] = {};\r\n        for (const item of element.items) {\r\n          if (item.type !== \"button\") {\r\n            settings[element.key][item.key] = item.value;\r\n          }\r\n        }\r\n      }\r\n      // 提交负荷\r\n      this.setSettings(settings);\r\n    },\r\n    // 按钮事件\r\n    handlerButton(key) {\r\n      switch (key) {\r\n        case \"clearCache\":\r\n          this.$confirm(\"确定清空缓存吗？\", \"提示\", {\r\n            confirmButtonText: \"确定\",\r\n            cancelButtonText: \"取消\",\r\n            type: \"warning\",\r\n            customClass: \"messageBox\",\r\n          })\r\n            .then(() => {\r\n              console.log(\"清除缓存\");\r\n              localStorage.clear();\r\n            })\r\n            .catch(() => {});\r\n          break;\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" >\r\n.settings_main {\r\n  height: 100%;\r\n  width: 100%;\r\n}\r\n// 定义一些基础变量\r\n@text-color: var(--primary-text-color);\r\n@label-text-color: var(--secondary-text-color);\r\n@border-radius: 10px;\r\n.settings-container {\r\n  height: 100%;\r\n  width: 100%;\r\n  position: relative;\r\n  .settings_wrap {\r\n    width: 100%;\r\n    height: 100%;\r\n    position: absolute;\r\n  }\r\n  .settings-category {\r\n    margin-bottom: 20px;\r\n\r\n    .category-title {\r\n      font-size: 26px;\r\n      margin-bottom: 10px;\r\n      color: @text-color;\r\n      padding-left: 10px;\r\n    }\r\n\r\n    .setting-item-wrap {\r\n      background-color: var(--secondary-bg-color);\r\n      padding: 14px 20px;\r\n      border-radius: @border-radius;\r\n\r\n      .setting-item {\r\n        height: 52px;\r\n        display: flex;\r\n        justify-content: space-between;\r\n        align-items: center;\r\n        font-size: 14px;\r\n\r\n        .item-label {\r\n          flex: 1;\r\n          margin-right: 10px;\r\n          color: @label-text-color;\r\n        }\r\n\r\n        .item-control {\r\n          .input-control,\r\n          .select-control,\r\n          .switch-control {\r\n            width: 100%;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Settings.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Settings.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Settings.vue?vue&type=template&id=ae9b7864\"\nimport script from \"./Settings.vue?vue&type=script&lang=js\"\nexport * from \"./Settings.vue?vue&type=script&lang=js\"\nimport style0 from \"./Settings.vue?vue&type=style&index=0&id=ae9b7864&prod&lang=less\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","ref","staticClass","staticStyle","attrs","_l","settings","category","directives","name","rawName","value","expression","key","_v","_s","title","items","item","type","model","callback","$$v","$set","options","option","style","buttonStyle","on","$event","handlerButton","_e","staticRenderFns","data","background","color","watch","handler","val","changeSettings","deep","created","localSettings","JSON","parse","localStorage","getItem","updateSettingsArray","methods","mapActions","arr","settingsObj","forEach","element","elementSettings","undefined","setSettings","$confirm","confirmButtonText","cancelButtonText","customClass","then","clear","catch","component"],"sourceRoot":""}