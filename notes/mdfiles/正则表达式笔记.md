# 正则表达式笔记

> 普通字符

| 书写   | 描述                                                 |
| ------ | :--------------------------------------------------- |
| [ABC]  | 匹配 [...] 中字符的所有字符，可以匹配A也可以匹配B或C |
| [^ABC] | 非 匹配非[...]中的所有字符                           |
| [A-Z]  | 区间匹配，匹配匹配所有大写字母 A到Z                  |
| [\s]   | 匹配所有空白符和换行                                 |
| [\S]   | 匹配所有非空白字符，不包括换行                       |
| [\w]   | 匹配字母、数字、下划线。等价于 [A-Za-z0-9_]          |

> 非打印字符

| 书写 | 描述                                                         |
| ---- | ------------------------------------------------------------ |
| \f   | 匹配一个换页符。等价于 \x0c 和 \cL。                         |
| \n   | 匹配一个换行符。等价于 \x0a 和 \cJ。                         |
| \r   | 匹配一个回车符。等价于 \x0d 和 \cM。                         |
| \t   | 匹配一个制表符。等价于 \x09 和 \cI。                         |
| \v   | 匹配一个垂直制表符。等价于 \x0b 和 \cK。                     |
| \s   | 匹配任何空白字符，包括空格、制表符、换页符等等。等价于 [ \f\n\r\t\v]，注意 Unicode 正则表达式会匹配全角空格符。 |
| \S   | 匹配任何非空白字符。等价于 \[^ \f\n\r\t\v]。                 |

> 特殊字符

| 书写 | 描述                                                         |
| ---- | ------------------------------------------------------------ |
| ( )  | 标记一个子表达式的开始和结束位置,也具有捕获功能会将括号内匹配的值保存起来，后面会讲如何使用。 |
| *    | 匹配前面的子表达式零次或多次。                               |
| +    | 匹配前面的子表达式一次或多次。                               |
| .    | 匹配除换行符 \n 之外的任何单字符                             |
| ?    | 匹配前面的子表达式零次或一次，或指明一个非贪婪限定符。       |
| \    | 转义符号                                                     |
| \|   | 或                                                           |
| ^    | 匹配输入字符串的开始位置                                     |
| $    | 匹配字符串的结尾位置。如果设置了Multiline 属性，则也匹配 '\n' 或 '\r'。 |

> 限定符

| 书写  | 描述                                                         |
| ----- | ------------------------------------------------------------ |
| *     | 匹配前面的子表达式 零次 或 多次。等价于{0,}。                |
| +     | 匹配前面的子表达式 一次 或 多次。等价于 {1,}。               |
| ？    | 匹配前面的子表达式 零次 或 一次。等价于 {0,1}。              |
| {n}   | n 是一个非负整数。匹配确定的 n 次，匹配固定次数。            |
| {n,}  | n 是一个非负整数。至少匹配n 次。                             |
| {n,m} | m 和 n 均为非负整数，其中n <= m。最少匹配 n 次且最多匹配 m 次。 |

> *和 + 限定符都是贪婪的，因为它们会尽可能多的匹配文字，在它们的后面加上?就可以实现非贪婪或最小匹配。

例如
`txt = "<h1>正则表达式笔记</h1>"`
`/<.*>/ `可以匹配到：`<h1>正则表达式笔记</h1>` 会尽可能匹配更多的内容
`/<.*?>/` 则匹配的结果是：`<h1> `会尽可能匹配更少的符合条件内容

> 定位符

| 书写 | 描述                                                         |
| ---- | ------------------------------------------------------------ |
| ^    | 匹配输入字符串开始的位置。如果设置了对象的 Multiline 属性，^ 还会与 \n 或 \r 之后的位置匹配。 |
| $    | 匹配输入字符串结尾的位置。如果设置了对象的 Multiline 属性，$ 还会与 \n 或 \r 之前的位置匹配。 |
| \b   | 匹配一个单词边界，即字与空格间的位置。                       |
| \B   | 非单词边界匹配。                                             |

> 定位符匹配的是一个位置， 用在匹配值前后

例如：
`\b\w+?\b` 则匹配一个的单词 前面和后面用于定位中间则是匹配内容
`\w+?e\b` 匹配e结尾的单词
判断 `?=`、`?<=`、`?!`、`?<!`

| 书写     | 描述                         |
| -------- | ---------------------------- |
| (?=...)  | 用于判断后面等于某个匹配值   |
| (?!...)  | 用于判断后面不等于某个匹配值 |
| (?<=...) | 用于判断前面等于某个匹配值   |
| (?<!...) | 用于判断前面不等于某个匹配值 |

上面这些匹配的都是位置可以放在匹配值前后

> 捕获和反向引用

`()`括号具有选择功能 例如`(a)|(b)` a或b ，`()`还具有捕获功能
会将括号内的值储存起来
例如：
`/(aa) \1/` 匹配结果是：aa aa， `\1`则是调出第一个捕获的值 `\2` 则是第二个值
捕获的值下标开始为 **1**
`(?=...)`、`(?!...)`、`(?<=...)`、`(?<!...)`这是是非捕获符，不会将值存储来捕获列表里
如果只是想用`()`用于选择或区分可以使用 `?:` 来取消捕获功能
`(?:aa)`或`(?:bb)` 不会将括号内值存储在捕获列表里

> 修饰符

修饰符也就是匹配模式

| 书写 | 描述                                                         |
| ---- | ------------------------------------------------------------ |
| i    | ignore - 不区分大小写                                        |
| g    | global - 全局匹配,默认匹配一个值，设置全局模式后将会用数组储存每一个值 |
| m    | multi line - 多行匹配	使边界字符 ^ 和 $ 匹配每一行的开头和结尾，而不是整个字符串的开头和结尾。 |
| s    | 特殊字符.将匹配将包括\n                                      |

例子：
"a A b B"
`/a/g`  匹配a
`/a/gi` 匹配 a、A
因为是全局模式将会匹配所有值

```js
var val = "a A b B".match(/a/gi);
```

val[0] == "a";
val[1] == "A";

多行模式开启后`^` 和 `$` 将会匹配每一行开头和结尾而不是整段字符串开头和结尾,
相当于以 \n 为结尾

正则表达式还可以匹配不同的进制这里就不继续深入做笔记了。